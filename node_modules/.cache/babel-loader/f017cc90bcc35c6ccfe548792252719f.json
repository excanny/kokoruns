{"ast":null,"code":"import _defineProperty from\"/Users/godsonihemere/Desktop/KokorunsProject/KokorunsUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"/Users/godsonihemere/Desktop/KokorunsProject/KokorunsUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/godsonihemere/Desktop/KokorunsProject/KokorunsUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _objectSpread from\"/Users/godsonihemere/Desktop/KokorunsProject/KokorunsUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/godsonihemere/Desktop/KokorunsProject/KokorunsUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/godsonihemere/Desktop/KokorunsProject/KokorunsUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/godsonihemere/Desktop/KokorunsProject/KokorunsUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/godsonihemere/Desktop/KokorunsProject/KokorunsUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/godsonihemere/Desktop/KokorunsProject/KokorunsUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import Header from'../commons/Header';import NavBar from'../commons/NavBar';import UserBio from'../commons/UserBio';import Modal from'react-bootstrap/Modal';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var Experience=/*#__PURE__*/function(_Component){_inherits(Experience,_Component);var _super=_createSuper(Experience);function Experience(){var _this;_classCallCheck(this,Experience);_this=_super.call(this);_this.handleRoleChange=function(idx){return function(e){var newRoles=_this.state.roles.map(function(role,sidx){if(idx!==sidx)return role;return _objectSpread(_objectSpread({},role),{},{name:e.target.value});});_this.setState({roles:newRoles});};};_this.handleAddSkill=function(){_this.setState({roles:_this.state.roles.concat([{role_name:\"\"}])});};_this.handleRemoveSkill=function(idx){return function(){_this.setState({roles:_this.state.roles.filter(function(s,sidx){return idx!==sidx;})});};};_this.showModal=function(){_this.setState({show:true});};_this.hideModal=function(){_this.setState({show:false});};_this.onHide=function(){_this.setState({show:false});};_this.state={show:false,start_month:'',end_month:'',start_year:'',end_year:'',company_name:'',exposition:'',roles:[{role_name:\"edfefef\"}],experiences:[],user:[],loading:true};_this.showModal=_this.showModal.bind(_assertThisInitialized(_this));_this.hideModal=_this.hideModal.bind(_assertThisInitialized(_this));_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));//this.handleRoleChange = this.handleRoleChange.bind(this);\nreturn _this;}_createClass(Experience,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var headers,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:headers={\"Content-Type\":\"application/json\",'Authorization':'Bearer '+localStorage.getItem('access_token')};_context.prev=1;_context.next=4;return axios.get(\"https://lit-ridge-07527.herokuapp.com/api/experiences\",{headers:headers});case 4:response=_context.sent;//console.log(response.data.experiences);\nthis.setState({experiences:response.data.experiences,loading:false});// console.log(response.data.expe[0]);\n_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);console.log(\"error\",_context.t0);// appropriately handle the error\ncase 11:case\"end\":return _context.stop();}}},_callee,this,[[1,8]]);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"handleChange\",value:function handleChange(e){this.setState(_defineProperty({},e.target.name,e.target.value));}},{key:\"handleSubmit\",value:function handleSubmit(e){var _this2=this;// Form submission logic\ne.preventDefault();this.setState({isLoading:true});this.setState(_defineProperty({},e.target.name,e.target.value));var headers={\"Content-Type\":\"application/json\",'Authorization':'Bearer '+localStorage.getItem('access_token')};var data={start_month:this.state.start_month,start_year:this.state.start_year,end_month:this.state.end_month,end_year:this.state.end_year,company_name:this.state.company_name,exposition:this.state.exposition,roles:JSON.stringify(this.state.roles)};//console.log(data);\naxios.post(\"http://127.0.0.1:8000/api/addexperience\",data,{headers:headers}).then(function(response){_this2.setState({experiences:response.data.experiences,loading:true,show:false});console.log(response);}).catch(function(error){console.log(error.response);});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"section\",{id:\"UserInfoContainer\",className:\"user-info-containerx\",children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsx(UserBio,{}),/*#__PURE__*/_jsx(\"div\",{id:\"user-pordtfolio\",style:{paddingBottom:50,marginTop:20,display:'none',paddingLeft:59},children:/*#__PURE__*/_jsxs(\"section\",{className:\"user-portfolio\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"portfolio-header-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"edu-update-button-container\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"file-input-images\",className:\"mb-0 mt-0 mt-1 mb-1\",children:/*#__PURE__*/_jsx(\"span\",{className:\"edu-update-button btn-danger py-2 px-3 mt-2\",children:\"Add Imageswswsw\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"file-input-images\",id:\"file-input-images\",accept:\"image/*\",hidden:true})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"porfolio-container-imagesss bg-light\",align:\"center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row p-3\",id:\"portfolio_images\"})})]})})]})]});}}]);return Experience;}(Component);export default Experience;","map":{"version":3,"sources":["/Users/godsonihemere/Desktop/KokorunsProject/KokorunsUI/src/components/Portfolio.js"],"names":["React","Component","Header","NavBar","UserBio","Modal","axios","Experience","handleRoleChange","idx","e","newRoles","state","roles","map","role","sidx","name","target","value","setState","handleAddSkill","concat","role_name","handleRemoveSkill","filter","s","showModal","show","hideModal","onHide","start_month","end_month","start_year","end_year","company_name","exposition","experiences","user","loading","bind","handleChange","handleSubmit","headers","localStorage","getItem","get","response","data","console","log","preventDefault","isLoading","JSON","stringify","post","then","catch","error","paddingBottom","marginTop","display","paddingLeft"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Header from '../commons/Header';\nimport NavBar from '../commons/NavBar';\nimport UserBio from '../commons/UserBio';\nimport Modal from 'react-bootstrap/Modal';\nimport axios from 'axios';\n\nexport class Experience extends Component {\n\n    constructor() {\n        super();\n        this.state = {\n          show: false,\n          start_month: '',\n          end_month: '',\n          start_year: '',\n          end_year: '',\n          company_name: '',\n          exposition: '',\n          roles: [\n            { role_name: \"edfefef\" }\n          ],\n          experiences: [],\n          user: [],\n          loading: true,\n\n        };\n\n        this.showModal = this.showModal.bind(this);\n        this.hideModal = this.hideModal.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        //this.handleRoleChange = this.handleRoleChange.bind(this);\n  \n      }\n\n\n      handleRoleChange = idx => e => {\n        const newRoles= this.state.roles.map((role, sidx) => {\n          if (idx !== sidx) return role;\n          return { ...role, name: e.target.value };\n        });\n    \n        this.setState({ roles: newRoles });\n\n      };\n\n      handleAddSkill = () => {\n        this.setState({\n          roles: this.state.roles.concat([{ role_name: \"\" }])\n        });\n      };\n    \n      handleRemoveSkill = idx => () => {\n        this.setState({\n            roles: this.state.roles.filter((s, sidx) => idx !== sidx)\n        });\n      };\n\n      showModal = () => {\n        this.setState({ show: true });\n      };\n    \n      hideModal = () => {\n        this.setState({ show: false });\n      };\n\n      onHide = () => {\n        this.setState({ show: false });\n      }\n\n\n      async componentDidMount() {\n\n        const headers = {\n          \"Content-Type\": \"application/json\",\n          'Authorization': 'Bearer ' + localStorage.getItem('access_token'), \n        }\n\n    \n          try \n          {\n              // fetch data from a url endpoint\n              const response = await  axios.get(`https://lit-ridge-07527.herokuapp.com/api/experiences`, {headers: headers});\n\n              //console.log(response.data.experiences);\n\n              this.setState({ experiences: response.data.experiences, loading: false });\n\n              // console.log(response.data.expe[0]);\n\n          } \n          catch(error) \n          {\n            console.log(\"error\", error);\n            // appropriately handle the error\n          }\n    \n      }\n\n\n      handleChange(e) {\n        this.setState({ [e.target.name]: e.target.value });\n      }\n\n\n      handleSubmit(e) {\n        // Form submission logic\n        e.preventDefault();\n\n        this.setState({ isLoading: true });\n\n        this.setState({ [e.target.name]: e.target.value });\n\n        const headers = {\n          \"Content-Type\": \"application/json\",\n          'Authorization': 'Bearer ' + localStorage.getItem('access_token'), \n        }\n\n        const data = { start_month: this.state.start_month, start_year: this.state.start_year, end_month: this.state.end_month, end_year: this.state.end_year, company_name: this.state.company_name, exposition: this.state.exposition, roles:  JSON.stringify(this.state.roles)};  \n\n        //console.log(data);\n\n       axios.post(`http://127.0.0.1:8000/api/addexperience`, data, {headers: headers})\n        .then((response) => {\n           \n\n           this.setState({ experiences: response.data.experiences, loading: true, show: false});\n         \n           console.log(response);\n\n         })\n         .catch( error => {\n           console.log(error.response);\n         });\n    \n\n      }\n\n\n\n    render() {\n\n\n        return (\n\n            <>\n           \n          <Header/>\n\n\n\n            <section id=\"UserInfoContainer\" className=\"user-info-containerx\">  \n\n\n            <NavBar/>\n\n           \n\n\n              <UserBio />\n\n\n\n\n              <div id=\"user-pordtfolio\" style={{paddingBottom: 50, marginTop: 20, display: 'none', paddingLeft: 59}}>\n                <section className=\"user-portfolio\">\n                  <div className=\"portfolio-header-container\">\n                    <div className=\"edu-update-button-container\">\n                      <label htmlFor=\"file-input-images\" className=\"mb-0 mt-0 mt-1 mb-1\">\n                        <span className=\"edu-update-button btn-danger py-2 px-3 mt-2\">Add Imageswswsw</span>\n                      </label>\n                      <input type=\"file\" name=\"file-input-images\" id=\"file-input-images\" accept=\"image/*\" hidden />     \n                    </div>      \n                  </div> \n                  <div className=\"porfolio-container-imagesss bg-light\" align=\"center\">\n                    <div className=\"row p-3\" id=\"portfolio_images\">\n                    </div>\n                  </div>\n                </section>\n\n\n                  </div>\n\n            \n              </section>\n\n\n             \n              \n             \n\n\n          </>\n        )\n    }\n}\n\nexport default Experience;\n"]},"metadata":{},"sourceType":"module"}