{"ast":null,"code":"var _jsxFileName = \"/Users/godsonihemere/Desktop/KokorunsProject/KokorunsUI/src/components/Portfolio.js\";\nimport React, { Component } from 'react';\nimport Header from '../commons/Header';\nimport NavBar from '../commons/NavBar';\nimport UserBio from '../commons/UserBio';\nimport Modal from 'react-bootstrap/Modal';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport class Experience extends Component {\n  constructor() {\n    super();\n\n    this.handleRoleChange = idx => e => {\n      const newRoles = this.state.roles.map((role, sidx) => {\n        if (idx !== sidx) return role;\n        return { ...role,\n          name: e.target.value\n        };\n      });\n      this.setState({\n        roles: newRoles\n      });\n    };\n\n    this.handleAddSkill = () => {\n      this.setState({\n        roles: this.state.roles.concat([{\n          role_name: \"\"\n        }])\n      });\n    };\n\n    this.handleRemoveSkill = idx => () => {\n      this.setState({\n        roles: this.state.roles.filter((s, sidx) => idx !== sidx)\n      });\n    };\n\n    this.showModal = () => {\n      this.setState({\n        show: true\n      });\n    };\n\n    this.hideModal = () => {\n      this.setState({\n        show: false\n      });\n    };\n\n    this.onHide = () => {\n      this.setState({\n        show: false\n      });\n    };\n\n    this.state = {\n      show: false,\n      start_month: '',\n      end_month: '',\n      start_year: '',\n      end_year: '',\n      company_name: '',\n      exposition: '',\n      roles: [{\n        role_name: \"edfefef\"\n      }],\n      experiences: [],\n      user: [],\n      loading: true\n    };\n    this.showModal = this.showModal.bind(this);\n    this.hideModal = this.hideModal.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this); //this.handleRoleChange = this.handleRoleChange.bind(this);\n  }\n\n  async componentDidMount() {\n    const headers = {\n      \"Content-Type\": \"application/json\",\n      'Authorization': 'Bearer ' + localStorage.getItem('access_token')\n    };\n\n    try {\n      // fetch data from a url endpoint\n      const response = await axios.get(`http://127.0.0.1:8000/api/experiences`, {\n        headers: headers\n      }); //console.log(response.data.experiences);\n\n      this.setState({\n        experiences: response.data.experiences,\n        loading: false\n      }); // console.log(response.data.expe[0]);\n    } catch (error) {\n      console.log(\"error\", error); // appropriately handle the error\n    }\n  }\n\n  handleChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  handleSubmit(e) {\n    // Form submission logic\n    e.preventDefault();\n    this.setState({\n      isLoading: true\n    });\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n    const headers = {\n      \"Content-Type\": \"application/json\",\n      'Authorization': 'Bearer ' + localStorage.getItem('access_token')\n    };\n    const data = {\n      start_month: this.state.start_month,\n      start_year: this.state.start_year,\n      end_month: this.state.end_month,\n      end_year: this.state.end_year,\n      company_name: this.state.company_name,\n      exposition: this.state.exposition,\n      roles: JSON.stringify(this.state.roles)\n    }; //console.log(data);\n\n    axios.post(`http://127.0.0.1:8000/api/addexperience`, data, {\n      headers: headers\n    }).then(response => {\n      this.setState({\n        experiences: response.data.experiences,\n        loading: true,\n        show: false\n      });\n      console.log(response);\n    }).catch(error => {\n      console.log(error.response);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        id: \"UserInfoContainer\",\n        className: \"user-info-containerx\",\n        children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(UserBio, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"user-experiencehhh\",\n        style: {\n          paddingLeft: 59,\n          paddingBottom: 50\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            paddingTop: 15,\n            paddingBottom: 15,\n            width: '69.4%'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"section\", {\n            className: \"user-experience card mb-4 \",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"exp-update-button-container\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-danger rounded-0\",\n                onClick: this.showModal,\n                children: \"Create Experience +\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 31\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 27\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 27\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 23\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: this.state.loading || !this.state.experiences ? /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"Loading\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 16\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            children: this.state.experiences.map(experience => /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                id: \"experience-post-container\",\n                style: {\n                  width: '69.4%'\n                },\n                children: /*#__PURE__*/_jsxDEV(\"section\", {\n                  className: \"user-experience card mb-5\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"experience-post-container\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"exp-cont\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: true,\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"row\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"col\",\n                            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"exp-date \",\n                              children: experience.start\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 192,\n                              columnNumber: 47\n                            }, this), \" -\", /*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"exp-date\",\n                              children: experience.end\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 193,\n                              columnNumber: 47\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 191,\n                            columnNumber: 43\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"col text-right\",\n                            children: /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"dropdown dropleft\",\n                              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                                className: \"fa fa-ellipsis-v cursor\",\n                                \"data-toggle\": \"dropdown\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 197,\n                                columnNumber: 47\n                              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                                className: \"dropdown-menu rounded-0 bg-light p-0\",\n                                children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                                  className: \"dropdown-item p-0 edit-experience-btn cursor\",\n                                  \"data-toggle\": \"modal\",\n                                  \"data-exp_id\": \"'.$experience['frecno'].'\",\n                                  \"data-exp_start_month\": \"'.$month1.'\",\n                                  \"data-exp_start_year\": \"'.$year1.'\",\n                                  \"data-exp_end_month\": \"'.$month2.'\",\n                                  \"data-exp_end_year\": \"'.$year2.'\",\n                                  \"data-company\": \"'.$experience['fcompany_name'].'\",\n                                  \"data-position\": \"'.$experience['fposition'].'\",\n                                  \"data-roles\": \"'.$experience['frole'].'\",\n                                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                                    className: \"fa fa-edit text-warning\"\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 199,\n                                    columnNumber: 434\n                                  }, this), \" \\xA0Edit\"]\n                                }, void 0, true, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 199,\n                                  columnNumber: 51\n                                }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                                  className: \"dropdown-item p-0 exp-delete cursor\",\n                                  \"data-exp_id\": \"'.$experience['frecno'].'\",\n                                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                                    className: \"fa fa-trash text-danger\"\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 200,\n                                    columnNumber: 142\n                                  }, this), \" Delete\"]\n                                }, void 0, true, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 200,\n                                  columnNumber: 51\n                                }, this)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 198,\n                                columnNumber: 47\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 196,\n                              columnNumber: 47\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 195,\n                            columnNumber: 43\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 190,\n                          columnNumber: 43\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"mt-3 mb-2\",\n                          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"exp-position\",\n                            children: experience.position\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 205,\n                            columnNumber: 68\n                          }, this), \" \"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 205,\n                          columnNumber: 43\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"company\",\n                          children: experience.company_name\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 206,\n                          columnNumber: 43\n                        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 206,\n                          columnNumber: 101\n                        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 206,\n                          columnNumber: 107\n                        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                          className: \"roles-and-respon\",\n                          children: [\"';\", /*#__PURE__*/_jsxDEV(\"li\", {\n                            children: \"'.$role.'\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 209,\n                            columnNumber: 47\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 207,\n                          columnNumber: 43\n                        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 212,\n                          columnNumber: 43\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 189,\n                        columnNumber: 39\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 188,\n                      columnNumber: 39\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 187,\n                    columnNumber: 35\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 186,\n                  columnNumber: 31\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 27\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 16\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true);\n  }\n\n}\nexport default Experience;","map":{"version":3,"sources":["/Users/godsonihemere/Desktop/KokorunsProject/KokorunsUI/src/components/Portfolio.js"],"names":["React","Component","Header","NavBar","UserBio","Modal","axios","Experience","constructor","handleRoleChange","idx","e","newRoles","state","roles","map","role","sidx","name","target","value","setState","handleAddSkill","concat","role_name","handleRemoveSkill","filter","s","showModal","show","hideModal","onHide","start_month","end_month","start_year","end_year","company_name","exposition","experiences","user","loading","bind","handleChange","handleSubmit","componentDidMount","headers","localStorage","getItem","response","get","data","error","console","log","preventDefault","isLoading","JSON","stringify","post","then","catch","render","paddingLeft","paddingBottom","paddingTop","width","experience","start","end","position"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Header from '../commons/Header';\nimport NavBar from '../commons/NavBar';\nimport UserBio from '../commons/UserBio';\nimport Modal from 'react-bootstrap/Modal';\nimport axios from 'axios';\n\nexport class Experience extends Component {\n\n    constructor() {\n        super();\n        this.state = {\n          show: false,\n          start_month: '',\n          end_month: '',\n          start_year: '',\n          end_year: '',\n          company_name: '',\n          exposition: '',\n          roles: [\n            { role_name: \"edfefef\" }\n          ],\n          experiences: [],\n          user: [],\n          loading: true,\n\n        };\n\n        this.showModal = this.showModal.bind(this);\n        this.hideModal = this.hideModal.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        //this.handleRoleChange = this.handleRoleChange.bind(this);\n  \n      }\n\n\n      handleRoleChange = idx => e => {\n        const newRoles= this.state.roles.map((role, sidx) => {\n          if (idx !== sidx) return role;\n          return { ...role, name: e.target.value };\n        });\n    \n        this.setState({ roles: newRoles });\n\n      };\n\n      handleAddSkill = () => {\n        this.setState({\n          roles: this.state.roles.concat([{ role_name: \"\" }])\n        });\n      };\n    \n      handleRemoveSkill = idx => () => {\n        this.setState({\n            roles: this.state.roles.filter((s, sidx) => idx !== sidx)\n        });\n      };\n\n      showModal = () => {\n        this.setState({ show: true });\n      };\n    \n      hideModal = () => {\n        this.setState({ show: false });\n      };\n\n      onHide = () => {\n        this.setState({ show: false });\n      }\n\n\n      async componentDidMount() {\n\n        const headers = {\n          \"Content-Type\": \"application/json\",\n          'Authorization': 'Bearer ' + localStorage.getItem('access_token'), \n        }\n\n    \n          try \n          {\n              // fetch data from a url endpoint\n              const response = await  axios.get(`http://127.0.0.1:8000/api/experiences`, {headers: headers});\n\n              //console.log(response.data.experiences);\n\n              this.setState({ experiences: response.data.experiences, loading: false });\n\n              // console.log(response.data.expe[0]);\n\n          } \n          catch(error) \n          {\n            console.log(\"error\", error);\n            // appropriately handle the error\n          }\n    \n      }\n\n\n      handleChange(e) {\n        this.setState({ [e.target.name]: e.target.value });\n      }\n\n\n      handleSubmit(e) {\n        // Form submission logic\n        e.preventDefault();\n\n        this.setState({ isLoading: true });\n\n        this.setState({ [e.target.name]: e.target.value });\n\n        const headers = {\n          \"Content-Type\": \"application/json\",\n          'Authorization': 'Bearer ' + localStorage.getItem('access_token'), \n        }\n\n        const data = { start_month: this.state.start_month, start_year: this.state.start_year, end_month: this.state.end_month, end_year: this.state.end_year, company_name: this.state.company_name, exposition: this.state.exposition, roles:  JSON.stringify(this.state.roles)};  \n\n        //console.log(data);\n\n       axios.post(`http://127.0.0.1:8000/api/addexperience`, data, {headers: headers})\n        .then((response) => {\n           \n\n           this.setState({ experiences: response.data.experiences, loading: true, show: false});\n         \n           console.log(response);\n\n         })\n         .catch( error => {\n           console.log(error.response);\n         });\n    \n\n      }\n\n\n\n    render() {\n\n\n        return (\n\n            <>\n           \n          <Header/>\n\n\n\n            <section id=\"UserInfoContainer\" className=\"user-info-containerx\">  \n\n\n            <NavBar/>\n\n           \n\n\n              <UserBio />\n\n\n              </section>\n\n\n              <div id=\"user-experiencehhh\" style={{paddingLeft: 59, paddingBottom: 50}}>\n                      {/*EXPERIENCE*/}\n                      <div style={{paddingTop: 15, paddingBottom: 15, width: '69.4%'}}>\n                          <section className=\"user-experience card mb-4 \">  \n                          <div className=\"exp-update-button-container\">\n                              <button className=\"btn btn-danger rounded-0\" onClick={this.showModal}>Create Experience +</button>      \n                          </div> \n                          </section>    \n                      </div> \n\n                        <div>\n              {this.state.loading || !this.state.experiences ? \n              (<div>Loading</div>) :\n               (\n               <div>{\n                this.state.experiences.map(experience =>\n                  \n                  <div>\n                          <div id=\"experience-post-container\" style={{width: '69.4%'}}>\n                              <section className=\"user-experience card mb-5\">\n                                  <div className=\"experience-post-container\">\n                                      <div className=\"exp-cont\">\n                                      <div className>     \n                                          <div className=\"row\">\n                                          <div className=\"col\">\n                                              <span className=\"exp-date \">{experience.start}</span> - \n                                              <span className=\"exp-date\">{experience.end}</span>\n                                          </div>\n                                          <div className=\"col text-right\">\n                                              <div className=\"dropdown dropleft\">\n                                              <i className=\"fa fa-ellipsis-v cursor\" data-toggle=\"dropdown\" />\n                                              <div className=\"dropdown-menu rounded-0 bg-light p-0\">\n                                                  <a className=\"dropdown-item p-0 edit-experience-btn cursor\" data-toggle=\"modal\" data-exp_id=\"'.$experience['frecno'].'\" data-exp_start_month=\"'.$month1.'\" data-exp_start_year=\"'.$year1.'\" data-exp_end_month=\"'.$month2.'\" data-exp_end_year=\"'.$year2.'\" data-company=\"'.$experience['fcompany_name'].'\" data-position=\"'.$experience['fposition'].'\" data-roles=\"'.$experience['frole'].'\"><i className=\"fa fa-edit text-warning\" /> &nbsp;Edit</a>\n                                                  <a className=\"dropdown-item p-0 exp-delete cursor\" data-exp_id=\"'.$experience['frecno'].'\"><i className=\"fa fa-trash text-danger\" /> Delete</a>\n                                              </div>\n                                              </div>\n                                          </div>\n                                          </div>\n                                          <p className=\"mt-3 mb-2\"><span className=\"exp-position\">{experience.position}</span> </p>\n                                          <span className=\"company\">{experience.company_name}</span><br /><br />\n                                          <ul className=\"roles-and-respon\">';\n                                         \n                                              <li>'.$role.'</li>\n                                         \n                                          </ul>\n                                          <br />  \n                                      </div>\n                                      </div>\n                                  </div>\n                              </section>\n\n                          </div>\n                      </div>   \n                )\n                }\n               </div>)}\n          </div>\n\n          </div>\n              \n             \n\n\n          </>\n        )\n    }\n}\n\nexport default Experience;\n"]},"metadata":{},"sourceType":"module"}